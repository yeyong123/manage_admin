webpackJsonp([24,41],{199:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{users:[],page:{next_page:1},dialogVisible:!1,user:{}}},created:function(){this.fetchResource(this.page.next_page)},truncate:function(e,t){return e.substring(0,t)+"..."},methods:{fetchResource:function(e){var t=this;this.$http.get("api_users.json?page="+e).then(function(e){t.users=e.body.klass,t.page=e.body.page})},handlePage:function(e){this.fetchResource(e)},rowClick:function(e){var t=this;t.dialogVisible=!0,t.users.forEach(function(a,r){if(e===a.id)return void(t.user=a)})},shuffle_key:function(e){var t=this;this.$http.post("api_users/shuffle_key.json",{id:e}).then(function(e){t.user=e.body.user,t.$message("生成成功")})},truncate:function(e,t){return e.api_key.substring(0,20)+"..."}}}},343:function(e,t,a){t=e.exports=a(7)(),t.push([e.i,".pall[data-v-c67ee474]{padding:4px}.pall hr[data-v-c67ee474]{margin-top:4px}.pall p[data-v-c67ee474]{padding:10px}",""])},649:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("router-link",{attrs:{to:"/dashboard"}},[e._v("\n          主页\n          ")])],1),e._v(" "),a("el-breadcrumb-item",[e._v("API用户")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.users,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"用户名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"api_type",label:"角色",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"refersh_name",label:"访问源",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"token",label:"Token",width:"250",formatter:e.truncate}}),e._v(" "),a("el-table-column",{attrs:{prop:"api_key",label:"KEY",width:"250",formatter:e.truncate}}),e._v(" "),a("el-table-column",{attrs:{prop:"visits_count",label:"访问次数"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([["default",function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.rowClick(t.row.id)}}},[e._v("查看")])]}]])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next","current-page":e.page.current_page,"page-size":25,total:e.page.total_count},on:{"current-change":e.handlePage}})],1),e._v(" "),a("el-dialog",{attrs:{title:"查看详细"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t}}},[a("div",{staticClass:"pall"},[a("p",[e._v("用户: "+e._s(e.user.name))]),e._v(" "),a("p",[e._v("电话: "+e._s(e.user.tel))]),e._v(" "),a("p",[e._v("IP: "+e._s(e.user.remote_ip))]),e._v(" "),a("hr"),e._v(" "),a("p",{staticStyle:{width:"100%","word-wrap":"break-word"}},[e._v("Key: "+e._s(e.user.api_key))]),e._v(" "),a("hr"),e._v(" "),a("p",[e._v("Token: "+e._s(e.user.token))])]),e._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.shuffle_key(e.user.id)}}},[e._v("重新生成Key和Token")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")])],1)])],1)},staticRenderFns:[]}},683:function(e,t,a){var r=a(343);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(30)("7864a60a",r,!0)},84:function(e,t,a){a(683);var r=a(31)(a(199),a(649),"data-v-c67ee474",null);e.exports=r.exports}});