webpackJsonp([15,41],{107:function(e,t,a){a(686);var r=a(31)(a(222),a(648),"data-v-9a14dd36",null);e.exports=r.exports},222:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{payments:[],page:{},q:"",trade_status:"",trade_type:"",time:[],user:"",types:[{value:null,label:"交易类型"},{value:"income",label:"收入"},{value:"expense",label:"支出"}],states:[{value:null,label:"选择状态"},{value:"pending",label:"交易中"},{value:"complete",label:"交易完成"},{value:"new",label:"新交易"},{value:"locked",label:"锁定"}],current_action:"index"}},created:function(){this.fetchResource(this.page.next_page)},methods:{fetchResource:function(e){var t=this;this.$http.get("payments.json?page="+e).then(function(e){t.payments=e.body.klass,t.page=e.body.page},function(e){t.$message.error("加载失败")})},handlePage:function(e){var t={trade_type:this.trade_type,trade_status:this.trade_status,q:this.q,time:this.time,user_id:this.user,page:e};"index"===this.current_action?this.fetchResource(e):this.search_ps(t)},search_ps:function(e){var t=this;this.current_action="search",this.$http.get("payments/search_payments",{params:e}).then(function(e){t.payments=e.body.klass,t.page=e.body.page})},searchQuery:function(){var e={trade_type:this.trade_type,trade_status:this.trade_status,q:this.q,time:this.time,user_id:this.user};this.search_ps(e)},tradeType:function(e,t){var a="";switch(e.trade_type){case"income":a="收入";break;case"expense":a="支出"}return a},tradeStatus:function(e,t){var a="";switch(e.trade_status){case"locked":a="锁定";break;case"complete":a="交易完成";break;case"cancel":a="取消";break;case"new":a="新交易";break;case"pending":a="交易中..."}return a},payType:function(e,t){var a="";switch(e.pay_type){case"local":a="站内交易";break;case"finace_pay":a="财务转账";break;case"refund":a="已退款";break;case"alipay_pc_direct":a="网页支付宝";break;case"alipay_wap":a="手机支付宝";break;case"wx_pub":a="公众号支付"}return a}}}},344:function(e,t,a){t=e.exports=a(7)(),t.push([e.i,".search[data-v-9a14dd36]{width:200px}.pay-header[data-v-9a14dd36]{margin-bottom:15px}",""])},648:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("router-link",{attrs:{to:"/dashboard"}},[e._v("\n                    主页\n                ")])],1),e._v(" "),a("el-breadcrumb-item",[e._v("财务交易")])],1)],1),e._v(" "),a("div",{staticClass:"pay-header"},[a("form",[a("el-input",{staticClass:"search",attrs:{placeholder:"交易编号"},model:{value:e.q,callback:function(t){e.q=t}}}),e._v(" "),a("el-input",{staticClass:"search",attrs:{placeholder:"收款人"},model:{value:e.user,callback:function(t){e.user=t}}}),e._v(" "),a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions2,placeholder:"选择时间范围",format:"yyyy-MM-dd HH:mm:ss","range-separator":"/",align:"right"},model:{value:e.time,callback:function(t){e.time=t}}}),e._v(" "),a("el-select",{attrs:{placeholder:"选择状态"},model:{value:e.trade_status,callback:function(t){e.trade_status=t}}},e._l(e.states,function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-select",{attrs:{placeholder:"交易类型"},model:{value:e.trade_type,callback:function(t){e.trade_type=t}}},e._l(e.types,function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.searchQuery}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.payments,border:""}},[a("el-table-column",{attrs:{prop:"order_num",label:"交易编号",width:"170"}}),e._v(" "),a("el-table-column",{attrs:{prop:"order_id",label:"订单ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_id",label:"用户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"origin_id",label:"交易对象"}}),e._v(" "),a("el-table-column",{attrs:{label:"交易金额"},scopedSlots:e._u([["default",function(t){return[e._v("\n                "+e._s(t.row.price/100)+"\n            ")]}]])}),e._v(" "),a("el-table-column",{attrs:{prop:"trade_type",label:"类型",formatter:e.tradeType}}),e._v(" "),a("el-table-column",{attrs:{prop:"trade_status",label:"交易状态",formatter:e.tradeStatus}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_type",label:"交易渠道",formatter:e.payType}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"描述",width:"220"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next","current-page":e.page.current_page,"page-size":25,total:e.page.total_count},on:{"current-change":e.handlePage}})],1)],1)},staticRenderFns:[]}},686:function(e,t,a){var r=a(344);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(30)("3abc8e1b",r,!0)}});