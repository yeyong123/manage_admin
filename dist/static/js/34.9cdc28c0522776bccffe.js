webpackJsonp([34,41],{208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{recipients:[],page:{next_page:0,current_page:0},type:""}},created:function(){this.fetchResource(this.next_page)},filters:{conver:function(e){var t="";switch(e){case"alipay":t="支付宝";break;case"wx_pub":t="公众号";break;case"bank":t="银行卡";break;default:t="支付宝"}return t}},methods:{fetchResource:function(e){var t=this,n=this;n.type=n.$route.query.type,n.$http.get("encashments/"+n.$route.params.id+"/fetch_users.json?page="+e).then(function(e){n.recipients=e.body.klass,n.page=e.body.page},function(e){t.$alert("网络连接失败")})},rowClick:function(){this.$router.push("/encashs/?type="+this.type)},payClick:function(e,t,n){var a=this;a.$confirm("已确认支付给["+t+"]款项","进一步确认支付",{confirmButtonText:"确认支付",cancelButtonText:"关闭",type:"danger"}).then(function(){a.$http.post("encashments/"+e+"/recipient.json").then(function(e){200==e.body.code?(a.recipients.splice(n,1),a.$message({type:"success",message:"成功支付"})):a.alert("操作失败")})})},deleteClick:function(e,t,n){var a=this;a.$confirm("驳回用户["+t+"]提现请求?","拒绝提现",{confirmButtonText:"确认拒绝",cancelButtonText:"点错了",type:"danger"}).then(function(){a.$http.delete("encashments/"+e+".json").then(function(e){200==e.body.code?(a.recipients.splice(n,1),a.$message({type:"success",message:"操作成功"})):a.alert("操作失败")})})},handlePage:function(e){this.fetchResource(e)}}}},636:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("提现到"+e._s(e._f("conver")(e.type))+"用户")]),e._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.rowClick()}}},[e._v("返回")]),e._v(" "),n("div",{staticClass:"table"},[n("el-table",{attrs:{data:e.recipients,border:""}},[n("el-table-column",{attrs:{label:"提现人",prop:"name"}}),e._v(" "),n("el-table-column",{attrs:{label:"提现到账户",prop:"account"}}),e._v(" "),n("el-table-column",{attrs:{label:"提现金额"},scopedSlots:e._u([["default",function(t){return[e._v("\n                        "+e._s((t.row.amount/100).toFixed(2))+"\n                    ")]}]])}),e._v(" "),n("el-table-column",{attrs:{label:"用户 ID",prop:"user_id"}}),e._v(" "),n("el-table-column",{attrs:{label:"开户行",prop:"open_bank"}}),e._v(" "),n("el-table-column",{attrs:{label:"支行",prop:"open_bank_code"}}),e._v(" "),n("el-table-column",{attrs:{label:"生成时间"},scopedSlots:e._u([["default",function(t){return[e._v("\n                        "+e._s(e._f("date")(1e3*t.row.created_at,"%Y-%m-%d %T"))+"\n                    ")]}]])}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([["default",function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){e.payClick(t.row.id,t.row.name,t.$index)}}},[e._v("完成支付")]),e._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){e.deleteClick(t.row.id,t.row.name,t.$index)}}},[e._v("拒绝")])]}]])})],1),e._v(" "),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{layout:"prev, pager, next","current-page":e.page.current_page,"page-size":25,total:e.page.total_count},on:{"current-change":e.handlePage}})],1)],1)],1)},staticRenderFns:[]}},93:function(e,t,n){var a=n(31)(n(208),n(636),null,null);e.exports=a.exports}});